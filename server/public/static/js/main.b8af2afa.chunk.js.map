{"version":3,"sources":["components/pages/Home.jsx","api.js","components/EditLibrary.js","components/DeleteMember.js","components/pages/LibraryDetail.js","components/pages/LibraryBooks.jsx","components/AutocompletePlace.jsx","components/pages/AddLibrary.jsx","components/pages/AddBook.jsx","components/pages/BookDetail.jsx","components/NavBar.js","components/Footer.js","components/pages/Login.jsx","components/pages/Signup.jsx","components/pages/Map.js","components/EditProfile.js","components/pages/Profile.jsx","components/pages/ReportProblem.jsx","components/pages/SendInvitation.jsx","components/pages/AddReview.jsx","components/App.jsx","index.js"],"names":["items","altText","Home","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","activeIndex","next","bind","assertThisInitialized","previous","goToIndex","onExiting","onExited","animating","nextIndex","length","setState","newIndex","_this2","slides","map","item","react_default","a","createElement","CarouselItem","key","src","alt","CarouselCaption","captionText","caption","captionHeader","className","Button","href","color","size","border-radius","block","index_es","icon","faUsers","faBookOpen","faBookReader","faMapMarkerAlt","Carousel","CarouselIndicators","onClickHandler","CarouselControl","direction","directionText","Component","service","axios","create","baseURL","withCredentials","errHandler","err","console","error","response","data","message","api","isLoggedIn","localStorage","getItem","getLocalStorageUser","JSON","parse","signup","userInfo","post","then","res","setItem","stringify","catch","login","email","password","logout","removeItem","get","getLibraries","getLibrary","libraryId","concat","updateLibrary","body","put","deleteLibrary","delete","createLibrary","showProfile","editProfile","getBook","bookId","updateBook","deleteBook","addBookWithForm","getMember","id","getAllMember","createMember","_library","deleteMember","sendEmail","sendInvitation","addPicture","file","formData","FormData","append","headers","Content-Type","EditLibrary","name","address","description","showEditForm","picture","theLibrary","_id","handleInputChange","handleFormSubmit","handleFileChange","event","defineProperty","target","value","log","files","e","uploadData","result","setTimeout","toString","_this3","onClick","outline","Input","type","Name","onChange","cols","rows","React","DeleteMember","deleteMemberADMIN","memberToBeDeletedId","onDelete","showDeleteAlert","Alert","LibraryDetail","match","params","library","book","member","allmembers","showAlertLeaveLibrary","showAlertDeleteLibrary","showAlertDeleteMember","toggleAlertLeaveLibrary","toggleAlertDeleteLibrary","toggleAlertDeleteMember","preventDefault","role","title","memberInfo","_this4","history","push","indexToRemove","filter","i","_this5","Card","CardBody","CardTitle","CardSubtitle","CardText","faTrash","isOpen","toggle","joinLibrary","leaveLibrary","EditLibrary_EditLibrary","slice","booksFromLibrary","Row","Col","CardImg","top","width","author","tag","Nlink","to","members","xs","_user","username","DeleteMember_DeleteMember","handleDeleteMember","_this6","Promise","all","_ref","_ref2","slicedToArray","LibraryBooks","search","changeSearch","bookDetail","toUpperCase","includes","Container","genre","_currentOwner","AutocompletePlace","results","isLoading","handleSearchChange","clearTimeout","timeoutId","performSearch","process","features","place","place_name","onSelect","placeholder","handleItemClicked","AddLibrary","handleSelect","center","createdLibrary","AutocompletePlace_AutocompletePlace","addLibraryAndRedirectToProfile","AddBook","pictureUrl","rating","pages","isbn","language","isbn_message","modal","prevState","volumeInfo","imageLinks","thumbnail","authors","categories","averageRating","pageCount","industryIdentifiers","identifier","Form","getInfoFromApi","Modal","ModalHeader","ModalBody","addBookAndRedirectToLibraryPage","BookDetail","user","calculateDueDate","untilDueDate","borrowedDate","Date","now","comments","status","setDate","getDate","dueDate","currentDate","dueDateMS","getTime","currentDateMS","diffMS","Math","abs","round","borrowBook","comment","text","Example","collapsed","Navbar","style","backgroundColor","dark","expand","NavbarToggler","Collapse","navbar","Nav","NavItem","es_NavLink","handleLogoutClick","Footer","Login","handleClick","Signup","mapboxgl","accessToken","Map","lng","lat","libraries","getCurrentCoordinates","initMap","mapRef","createRef","marker","container","current","zoom","addControl","NavigationControl","Marker","setLngLat","addTo","popup","Popup","setHTML","coordinates","setPopup","navigator","geolocation","getCurrentPosition","position","coords","longitude","latitude","sm","Label","for","ref","height","EditProfile","phoneNumber","favoriteBooks","favoriteQuote","updateProfile","flexDirection","faUserEdit","FormGroup","valid","invalid","FormFeedback","CustomInput","label","disabled","Profile","profileInfo","repeat","books","CardDeck","substr","EditProfile_EditProfile","Link","background","backgroundSize","opacity","zIndex","showMore","expanded","faPlus","faSearchLocation","Number","returnBook","ButtonGroup","vertical","ReportProblem","subject","feedback","handleSubmit","SendInvitation","AddReview","review","toConsumableArray","min","max","maxLength","App","NavBar_Example","Switch","Route","path","exact","component","render","Footer_Footer","ReactDOM","BrowserRouter","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.b8af2afa.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Carousel, CarouselItem, CarouselControl,  CarouselIndicators, CarouselCaption } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBookReader , faMapMarkerAlt, faUsers, faBookOpen} from '@fortawesome/free-solid-svg-icons'\n\nimport './../../index.scss';\n\n\nconst items = [\n  {\n    // src: '../../../public/images/logo.svg',\n    altText: `\"What an amazing app! Now I can share my books with everyone from my company\"`,\n    //  caption: 'Slide 1'\n  },\n  {\n    // src: 'data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22800%22%20height%3D%22400%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20400%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_15ba800aa20%20text%20%7B%20fill%3A%23444%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A40pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_15ba800aa20%22%3E%3Crect%20width%3D%22800%22%20height%3D%22400%22%20fill%3D%22%23666%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22247.3203125%22%20y%3D%22218.3%22%3ESecond%20slide%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E',\n    altText: 'Amazing!',\n    // caption: 'Slide 2'\n  },\n  {\n    // src: 'data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22800%22%20height%3D%22400%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20400%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_15ba800aa21%20text%20%7B%20fill%3A%23333%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A40pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_15ba800aa21%22%3E%3Crect%20width%3D%22800%22%20height%3D%22400%22%20fill%3D%22%23555%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22277%22%20y%3D%22218.3%22%3EThird%20slide%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E',\n    altText: '\"Love it!\"',\n    // caption: 'Slide 3'\n  }\n];\n\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { activeIndex: 0 };\n    this.next = this.next.bind(this);\n    this.previous = this.previous.bind(this);\n    this.goToIndex = this.goToIndex.bind(this);\n    this.onExiting = this.onExiting.bind(this);\n    this.onExited = this.onExited.bind(this);\n  }\n\n  onExiting() {\n    this.animating = true;\n  }\n\n  onExited() {\n    this.animating = false;\n  }\n\n  next() {\n    if (this.animating) return;\n    const nextIndex = this.state.activeIndex === items.length - 1 ? 0 : this.state.activeIndex + 1;\n    this.setState({ activeIndex: nextIndex });\n  }\n\n  previous() {\n    if (this.animating) return;\n    const nextIndex = this.state.activeIndex === 0 ? items.length - 1 : this.state.activeIndex - 1;\n    this.setState({ activeIndex: nextIndex });\n  }\n\n  goToIndex(newIndex) {\n    if (this.animating) return;\n    this.setState({ activeIndex: newIndex });\n  }\n\n\n\n  render() { \n    \n    const { activeIndex } = this.state;\n\n    const slides = items.map((item) => {\n      return (\n        <CarouselItem\n          onExiting={this.onExiting}\n          onExited={this.onExited}\n          key={item.src}\n        >\n          <img src={item.src} alt={item.altText} />\n          <CarouselCaption captionText={item.caption} captionHeader={item.caption} />\n        </CarouselItem>\n      );\n    });\n\n\n    return (\n      <div className=\"Home\">\n        <div className=\"home-header\">\n          <img src=\"../../../images/logo.svg\" alt=\"logo\"></img>\n          <h2>Smart Shelf</h2>\n          <Button href=\"/signup\" className=\"button-home\" color=\"primary\" size=\"lg\" border-radius=\"30px\" block>Get Started</Button>\n        </div>\n        <div className=\"home-features\">\n          <div className=\"features features-1\">\n            <FontAwesomeIcon icon={faUsers} size=\"4x\" className=\"icon\"/>\n            <h3>Create and share your own library</h3>\n            <p>Make your library online and share it with your friends and colleagues. Create a wonderful community of books!</p>\n          </div>\n          <div className=\"features features-2\">\n            <FontAwesomeIcon icon={faBookOpen} size=\"4x\" className=\"icon\"/>\n            <h3>Keep track of your physical books</h3>\n            <p>Register your books easily and efficiently with their ISBN number and add your own review before you borrow them to your friends!</p>\n          </div>\n          <div className=\"features features-3\">\n            <FontAwesomeIcon icon={faBookReader} size=\"4x\" className=\"icon\"/>\n            <h3>Find and contribute to other libraries</h3>\n            <p>Search for available libraries nearby you can borrow books from... And ask to be a part of them!</p>\n          </div>\n          <div className=\"home-location\">\n            <FontAwesomeIcon icon={faMapMarkerAlt} size=\"4x\" className=\"icon\"/>\n            <h3>Find libraries near you</h3>  \n          </div>\n        </div>\n        <div className=\"testimonials features\">\n          <h2>Testimonials</h2>\n          <Carousel\n              activeIndex={activeIndex}\n              next={this.next}\n              previous={this.previous}>\n              <CarouselIndicators items={items} activeIndex={activeIndex} onClickHandler={this.goToIndex} />\n              {slides}\n              <CarouselControl direction=\"prev\" directionText=\"Previous\" onClickHandler={this.previous} />\n              <CarouselControl direction=\"next\" directionText=\"Next\" onClickHandler={this.next} />\n          </Carousel>\n        </div>\n      </div>\n    );\n  }\n}\n","import axios from \"axios\";\n\nconst service = axios.create({\n  baseURL:\n    process.env.NODE_ENV === \"production\"\n      ? \"/api\"\n      : `${process.env.REACT_APP_API_URL}`,\n  withCredentials: true\n});\n\nconst errHandler = err => {\n  console.error(err);\n  if (err.response && err.response.data) {\n    console.error(\"API response\", err.response.data);\n    throw err.response.data.message;\n  }\n  throw err;\n};\n\nexport default {\n  service: service,\n  // Begining of AUTH methods ------------ DONT CHANGE ANYTHING -----------------------\n  // This method is synchronous and returns true or false\n  // To know if the user is connected, we just check if we have a value for localStorage.getItem('user')\n  isLoggedIn() {\n    return localStorage.getItem(\"user\") != null;\n  },\n\n  // This method returns the user from the localStorage\n  // Be careful, the value is the one when the user logged in for the last time\n  getLocalStorageUser() {\n    return JSON.parse(localStorage.getItem(\"user\"));\n  },\n\n  // This method signs up and logs in the user\n  signup(userInfo) {\n    return service\n      .post(\"/signup\", userInfo)\n      .then(res => {\n        // If we have localStorage.getItem('user') saved, the application will consider we are loggedin\n        localStorage.setItem(\"user\", JSON.stringify(res.data));\n        return res.data;\n      })\n      .catch(errHandler);\n  },\n\n  login(email, password) {\n    return service\n      .post(\"/login\", {\n        email,\n        password\n      })\n      .then(res => {\n        // If we have localStorage.getItem('user') saved, the application will consider we are loggedin\n        localStorage.setItem(\"user\", JSON.stringify(res.data));\n        return res.data;\n      })\n      .catch(errHandler);\n  },\n\n  logout() {\n    localStorage.removeItem(\"user\");\n    return service.get(\"/logout\");\n  },\n  // End of AUTH methods ------------------------------------------------------\n\n  // This is an example on how to use this method in a different file\n  // api.getCountries().then(countries => { /* ... */ })\n  // getCountries() {\n  //   return service\n  //     .get('/countries')\n  //     .then(res => res.data)\n  //     .catch(errHandler)\n  // },\n\n  // --------------------  Library methods -------------------------\n  getLibraries() {\n    return service\n      .get(`/libraries/`)\n      .then(response => response.data)\n      .catch(errHandler);\n  },\n\n  getLibrary(libraryId) {\n    return service\n      .get(`/libraries/${libraryId}`)\n      .then(response => response.data)\n      .catch(errHandler);\n  },\n  \n  updateLibrary(libraryId, body) {\n    return service\n      .put(`/libraries/${libraryId}`, body)\n      .then(response => response.data)\n      .catch(errHandler);\n  },\n\n  deleteLibrary(libraryId) {\n    return service\n      .delete(`/libraries/${libraryId}`)\n      .then(response => response.data)\n      .catch(errHandler);\n  },\n\n  createLibrary(body) {\n    return service\n      .post(\"/libraries\", body)\n      .then(res => res.data)\n      .catch(errHandler);\n  },\n\n  // getLibraries() {\n  //   return service\n  //     .get('/libraries')\n  //     .then(res => res.data)\n  //     .catch(errHandler)\n  // },\n\n  // -------------------- End of Library methods -------------------------\n\n  // --------------------  START OF PROFILE METHODS -------------------------\n\n  showProfile() {\n    return service\n      .get(\"/profile\")\n      .then(response => response.data)\n      .catch(errHandler);\n  },\n\n  editProfile(body) {\n    return service\n      .put(\"/profile\", body)\n      .then(response => response.data)\n      .catch(errHandler);\n  },\n\n  // --------------------  END OF PROFILE METHODS -------------------------\n\n  // -------------------- START OF BOOK METHODS -------------------------\n\n  getBook(bookId) {\n    return service\n      .get(`/books/${bookId}`)\n      .then(res => res.data)\n      .catch(errHandler);\n  },\n\n  updateBook(bookId, body) {\n    return service\n      .put(`/books/${bookId}`, body)\n      .then(res => res.data)\n      .catch(errHandler);\n  },\n\n  deleteBook(bookId) {\n    return service\n      .delete(`/books/${bookId}`)\n      .then(res => res.data)\n      .catch(errHandler);\n  },\n\n  // addBook(body) {\n  //   return service\n  //     .post(`/books`, body)\n  //     .then(res => res.data)\n  //     .catch(errHandler);\n  // },\n\n  addBookWithForm(body) {\n    return service\n      .post(`/books/`, body)\n      .then(res => res.data)\n      .catch(errHandler);\n  },\n\n  // -------------------- END OF BOOK METHODS -------------------------\n\n  // ------------------- START OF MEMBER METHODS ----------------------\n\n  getMember(id) {\n    return service\n      .get(`/members/${id}`)\n      .then(response => response.data)\n      .catch(errHandler);\n  },\n  getAllMember(id) {\n    return service\n      .get(`/members/all/${id}`)\n      .then(response => response.data)\n      .catch(errHandler);\n  },\n  createMember(_library) {\n    return service\n    .post(`/members`, { _library })\n    .then(response => response.data)\n    .catch(errHandler)\n  },\n  deleteMember(id, libraryId) {\n    return service\n      .delete(`/members/${id}/${libraryId}`)\n      .then(response => response.data)\n      .catch(errHandler);\n  },\n\n  // ------------------- END OF MEMBER METHODS-------------------------\n\n  // ------------------- START OF THE NODEMAILER METHODS -----------------------\n\n  sendEmail(libraryId, body) {\n    return service\n      .post(`/report-problem/${libraryId}`, body)\n      .then(response => response.data)\n      .catch(errHandler);\n  },\n\n  sendInvitation(libraryId, body) {\n    return service\n      .post(`/send-invitation/${libraryId}`, body)\n      .then(response => response.data)\n      .catch(errHandler);\n  },\n\n  // ------------------- END OF THE NODEMAILER METHODS -------------------------\n\n  // --------------------  START OF PICTURE UPLOAD METHOD --------------------\n\n  addPicture(file) {\n    const formData = new FormData();\n    formData.append(\"picture\", file);\n    return service\n      .post(\"/endpoint/to/add/a/picture\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      })\n      .then(res => res.data)\n      .catch(errHandler);\n  }\n};\n// -------------------- END OF Upload method ----------------------------------","import React from \"react\";\nimport {\n  Button,\n  Input,\n} from \"reactstrap\";\nimport api from \"../api\";\n\nexport default class EditLibrary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      address: \"\",\n      description: \"\",\n      showEditForm: true,\n      picture: null,\n      libraryId: this.props.theLibrary._id\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    this.handleFileChange = this.handleFileChange.bind(this)\n\n  }\n  handleInputChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n  handleFileChange(event) {\n    console.log(\"The file added by the user is: \", event.target.files[0])\n    this.setState({\n      picture: event.target.files[0]\n    })\n  }\n\n  handleFormSubmit(e) {\n    let uploadData = new FormData()\n      uploadData.append(\"name\", this.state.name)\n      uploadData.append(\"address\", this.state.address)\n      uploadData.append(\"picture\", this.state.picture)\n      uploadData.append(\"description\", this.state.description)\n\n    api.updateLibrary(this.state.libraryId,uploadData)\n      .then(result => {\n        this.props.updateLibrary()\n        console.log(\"DID IT WORK???\", result);\n        this.setState({\n          message: `library was updated!`,\n          showEditForm: !this.state.showEditForm\n        });\n        setTimeout(() => {\n          this.setState({\n            message: null\n          });\n        }, 2000);\n      })\n      .catch(err => this.setState({ message: err.toString() }))\n      }\n\n  showEditForm() {\n    this.setState({\n      showEditForm: !this.state.showEditForm\n    });\n  }\n  render() {\n    return (\n      <div className=\"editForm\">\n        {this.state.showEditForm ? (\n          <Button onClick={e => this.showEditForm(e)} outline color=\"info\" size=\"sm\">\n            Edit Library\n          </Button>\n        ) : (\n          <form>\n            Name:{\" \"}\n            <Input type=\"Name\" value={this.state.Name} name=\"name\" onChange={this.handleInputChange}\n            />{\" \"}\n            Address:{\" \"}\n            <Input type=\"text\" value={this.state.address} name=\"address\" onChange={this.handleInputChange}\n            />{\" \"}\n            Picture:{\" \"}\n            <Input type=\"file\" name=\"picture\" onChange={this.handleFileChange}\n            />{\" \"}\n            <br />\n            Description:{\" \"}\n            <Input type=\"text\" value={this.state.description} name=\"description\" cols=\"20\" rows=\"5\" onChange={this.handleInputChange}\n            />{\" \"}\n            <br />\n            <Button outline color=\"info\" onClick={() => this.handleFormSubmit()}\n            >\n              Confirm\n            </Button>\n          </form>\n        )}\n      </div>\n    );\n  }\n}","import React from \"react\";\nimport {\n  Button,\n  Input,\n  Alert,\n} from \"reactstrap\";\nimport api from \"../api\";\n\nexport default class DeleteMember extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n     showDeleteAlert: true,\n     libraryId: this.props.theLibrary._id\n\n\n    }\n    this.showDeleteAlert = this.showDeleteAlert.bind(this)\n  }\n  //  ---------- METHOD TO DELETE MEMBER AS AN ADMIN -------------------\n  deleteMemberADMIN = () => {\n    api.deleteMember(this.props.memberToBeDeletedId, this.state.libraryId)\n    .then(response => {\n      console.log(\"MEMBER DELETED!\", response)\n      this.props.onDelete()\n    })\n  }\n  \n  showDeleteAlert() {\n    this.setState({\n      showDeleteAlert: !this.state.showDeleteAlert\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"editForm\">\n\n      {this.state.showDeleteAlert ? \n      <Button onClick={this.showDeleteAlert} className=\"btn btn-danger\">Remove</Button>\n     : \n      <Alert color=\"danger\">\n        Are you sure you want to remove this member?<br />\n        <Button onClick={this.deleteMemberADMIN} className=\"btn btn-danger\">Delete!</Button>  \n        <Button onClick={this.showDeleteAlert} className=\"btn btn-danger\">No!</Button>  \n      </Alert>}\n    </div>\n    )\n  }\n}","import React, { Component } from \"react\";\nimport api from \"../../api\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTrash,faMapMarkerAlt } from '@fortawesome/free-solid-svg-icons'\nimport {\n  Card,\n  CardImg,\n  CardText,\n  CardBody,\n  CardTitle,\n  CardSubtitle,\n  Button,\n  Row,\n  Col,\n  Alert\n} from \"reactstrap\";\nimport { NavLink as Nlink } from \"react-router-dom\";\nimport EditLibrary from \"../EditLibrary.js\";\nimport DeleteMember from \"../DeleteMember\";\n\n\n\nexport default class LibraryDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      response: {\n        library: {},\n        book: []\n      },\n      member: null,\n      allmembers: null,\n      showAlertLeaveLibrary: false,\n      showAlertDeleteLibrary: false,\n      showAlertDeleteMember: false,\n\n    };\n        this.toggleAlertLeaveLibrary = this.toggleAlertLeaveLibrary.bind(this);\n        this.toggleAlertDeleteLibrary = this.toggleAlertDeleteLibrary.bind(this);\n        this.toggleAlertDeleteMember = this.toggleAlertDeleteMember.bind(this);\n\n      }\n      toggleAlertLeaveLibrary() {\n        this.setState({ \n          showAlertLeaveLibrary: !this.state.showAlertLeaveLibrary,\n        })\n      }\n      toggleAlertDeleteLibrary() {\n        this.setState({ \n          showAlertDeleteLibrary: !this.state.showAlertDeleteLibrary,\n        })\n      }\n      toggleAlertDeleteMember() {\n        this.setState({ \n          showAlertDeleteMember: !this.state.showAlertDeleteMember,\n        })\n      }\n// ---------- METHOD TO THE USER BECOME A MEMBER OF THE LIBRARY\n  joinLibrary(event) {\n    event.preventDefault();\n    api\n      .createMember(this.props.match.params.libraryId)\n      .then(result => {\n        console.log(\"CREATED MEMBER\", result.role);\n        this.setState({\n          message: `Your book '${this.state.title}' has been created`,\n          member: result\n        });\n        setTimeout(() => {\n          this.setState({\n            message: null\n          });\n        }, 2000);\n      })\n      .catch(err => this.setState({ message: err.toString() }));\n  }\n  updateLibrary = () => {\n    api\n      .getLibrary(this.props.match.params.libraryId)\n      .then(response => {\n        this.setState({\n          library: response.library\n        });\n      })\n      .catch(err => console.log(err))\n    }\n  //  ---------- METHOD TO LEAVE LIBRARY  -------------------\n\n  leaveLibrary() {\n    api.deleteMember(this.state.member._id, this.props.match.params.libraryId)\n    .then(response => {\n      console.log(\"MEMBER DELETED!\", response)\n      api.getLibrary(this.props.match.params.libraryId)\n       .then(response => {\n         this.setState({\n           library: response.library,\n           book: response.book,\n         })\n         api.getMember(this.props.match.params.libraryId)\n           .then(memberInfo => {\n             this.setState({\n               member: memberInfo[0]\n          })\n          this.toggleAlertLeaveLibrary()\n        })     \n      })\n    })\n  }\n\n//  ---------- METHOD TO DELETE MEMBER AS AN ADMIN -------------------\n  // deleteMemberADMIN(memberToBeDeletedId, ) {\n  //   api.deleteMember(memberToBeDeletedId, this.props.match.params.libraryId)\n  //   .then(response => {\n  //     console.log(\"MEMBER DELETED!\", response)\n  //     api.getLibrary(this.props.match.params.libraryId)\n  //      .then(response => {\n  //        this.setState({\n  //          library: response.library,\n  //          book: response.book,\n  //        })\n  //        api.getMember(this.props.match.params.libraryId)\n  //          .then(memberInfo => {\n  //            this.setState({\n  //             allmembers: memberInfo\n  //           })\n  //         this.toggleAlertDeleteMember()\n  //       })     \n  //     })\n  //   .catch(err => console.log(err))      \n  //   })\n  // }\n  //  ---------- METHOD TO DELETE LIBRARY AS AN ADMIN -------------------\n\n  deleteLibrary() {\n    api.deleteLibrary(this.props.match.params.libraryId)\n      .then(response => {\n        console.log(\"THE LIBRARY WAS DELETED!\", response )\n        this.props.history.push('/profile')\n      })\n      .catch(err => console.log(err))      \n  }\n  handleDeleteMember(indexToRemove) {\n    this.setState({\n      allmembers: this.state.allmembers.filter((member,i) => i !== indexToRemove)\n    })\n  }\n\n// ----------------------\n  render() {\n    return (\n      <div className=\"LibraryDetail\">\n        {!this.state.library  &&  <div>Loading...</div>}\n        {this.state.library && \n        <div className=\"libraryCard\">\n        <img src={this.state.library.picture} alt=\"library-img\" className=\"library-pic\" />\n          <Card>\n            {/* <CardImg top width=\"100%\" src={this.state.library.picture} alt=\"Card image cap\" className=\"library-pic\" /> */}\n            <CardBody>\n              <CardTitle><b>{this.state.library.name}</b></CardTitle>\n              <CardSubtitle>\n              <FontAwesomeIcon icon={faMapMarkerAlt} size=\"1x\" className=\"icon\"/>{' '}\n              {this.state.library.address}</CardSubtitle>\n              <CardText>{this.state.library.description}</CardText>\n\n              {this.state.member && this.state.member.role === \"admin\" && <Button onClick={this.toggleAlertDeleteLibrary} className=\"delete-libr-btn\">\n              <FontAwesomeIcon icon={faTrash} size=\"1x\" className=\"icon\"/>{' '}\n                Delete Library</Button>}\n              <Alert color=\"info\" isOpen={this.state.showAlertDeleteLibrary} toggle={this.toggleAlertDeleteLibrary}>\n                Are you sure you want to delete this library? <br />\n                  <Button onClick={(e) => this.deleteLibrary(e)} className=\"btn btn-danger\">Delete!</Button>  \n                  <Button onClick={this.toggleAlertDeleteLibrary} className=\"send-invitation-btn\">No!</Button>     \n                </Alert>\n              \n              {!this.state.member && <Button onClick={(e) => this.joinLibrary(e)} className=\"btn btn-info\">Join</Button>}\n              {this.state.member && this.state.member.role === \"member\" && <Button onClick={this.toggleAlertLeaveLibrary} className=\"btn btn-info\">Leave</Button>}\n              <Alert color=\"info\" isOpen={this.state.showAlertLeaveLibrary} toggle={this.toggleAlertLeaveLibrary}>\n              Are you sure you want to leave this library? <br />\n                  <Button onClick={(e) => this.leaveLibrary(e)} className=\"btn btn-danger\">Leave!</Button>  \n                  <Button onClick={this.toggleAlertLeaveLibrary} className=\"btn btn-info\">Stay!</Button>     \n                </Alert>\n            {this.state.member && (\n              <Button href={`/send-invitation/${this.state.library._id}`} className=\"send-invitation-btn\">\n                Send Invitation\n              </Button>\n            )}\n\n            </CardBody>\n          \n            {this.state.role === \"admin\" && <EditLibrary updateLibrary={this.updateLibrary} theLibrary={this.state.library} />}\n          </Card>\n        </div>\n      }\n        <h3>Available Books</h3>\n        {!this.state.book && <div>Loading...</div>}\n        {this.state.book &&\n          this.state.book.slice(0, 2).map((booksFromLibrary, i) => (\n            <div key={booksFromLibrary._id}>\n              <Card>\n                <Row>\n                  <Col>\n                    <CardImg top width=\"100%\" src={booksFromLibrary.picture} alt=\"Card image cap\" className=\"book-pic\"\n                    />\n                  </Col>\n                  <Col>\n                    <CardBody>\n                      <CardTitle>\n                        <strong>{booksFromLibrary.name}</strong>\n                      </CardTitle>\n                      <CardSubtitle>{booksFromLibrary.author}</CardSubtitle>\n                      <CardText className=\"small\">{booksFromLibrary.description}</CardText>\n                      <Button size=\"sm\" tag={Nlink} to={`/book-detail/${booksFromLibrary._id}`} className=\"send-invitation-btn\">\n                        See details\n                      </Button>\n                    </CardBody>\n                  </Col>\n                </Row>\n              </Card>\n            </div>\n          ))}\n        <Button outline color=\"info\" size=\"sm\" tag={Nlink} to={`/${this.props.match.params.libraryId}/books`}>\n          {\" \"}\n          See all Books\n        </Button>\n        <Button outline color=\"info\" size=\"sm\" tag={Nlink} to={`/${this.props.match.params.libraryId}/add-book`}>\n          {\" \"}\n          Add new Book\n        </Button>\n\n        <div className=\"memberList\">\n        <h3>Members</h3>\n        {this.state.allmembers && this.state.allmembers.map((members,i) => (<div key={members._id}>\n             <Card>\n              <Row>\n                <Col xs=\"3\">\n                  <CardImg top width=\"100%\" src={members._user.picture} alt=\"Card image cap\" />\n                </Col>\n                <Col xs=\"9\">\n                  <CardBody>\n                    <CardTitle><b>{members._user.username}</b></CardTitle>\n                    <Row>\n                    <Col xs=\"6\">\n                    <Button size=\"sm\" tag={Nlink}to={`/profile/${members._user._id}`}  className=\"send-invitation-btn small\">See details</Button>\n                    </Col><Col xs=\"6\">\n                    {this.state.member && this.state.member.role === \"admin\" &&\n                      <DeleteMember\n                      onDelete={() => this.handleDeleteMember(i)}\n                      memberToBeDeletedId={members._id}\n                      theLibrary={this.state.library}/>}\n                  </Col></Row>\n                  </CardBody>\n                </Col>\n              </Row>\n            </Card>\n          </div>))}\n        </div>\n       \n      </div>\n    );\n  }\n  componentDidMount() {\n     api.getLibrary(this.props.match.params.libraryId)\n       .then(response => {\n         this.setState({\n           library: response.library,\n           book: response.book,\n         })\n         Promise.all([\n          api.getMember(this.props.match.params.libraryId),\n          api.getAllMember(this.props.match.params.libraryId)\n        ]).then(([memberInfo,allmembers]) => {\n             this.setState({\n               member: memberInfo[0],\n               allmembers: allmembers\n          })\n          console.log(\"THIS IS THE LOGGED MEMBER:\", this.state.member)\n          console.log('THERE ARE THE MEMBERS-------->',this.state.allmembers)\n        })     \n      })\n      .catch(err => console.log(err));\n  }\n}\n","import React, { Component } from \"react\";\nimport { Alert, Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, Button, Container, Row, Col  } from 'reactstrap';\nimport api from \"../../api\";\n\n\nexport default class LibraryBooks extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      response: {\n        library: {},\n        book: {},\n      },\n      member: [],\n      search: \"\",\n      message:\"\",\n    };\n    this.changeSearch = this.changeSearch.bind(this);\n  }\n\n  changeSearch(e) {\n    this.setState({\n      search: e.target.value\n    });\n  }\n\n  deleteBook(e, bookDetail) {\n    console.log(\"IS THIS THE BOOK YOU WANT TO DELETE?\", bookDetail._id)\n    e.preventDefault()\n     api.deleteBook(bookDetail._id)\n     .then(response => {\n      console.log(\"DID IT WORK???\", response)\n      api.getLibrary(this.props.match.params.libraryId)\n      .then(response => {\n      this.setState({\n        message: `Your book was deleted successfully`,\n        library: response.library,\n        book: response.book\n      })\n    })\n  })\n}\n\n  render() {\n    return (\n      <div className=\"LibraryBooks\">\n        {(!this.state.book || !this.state.library) && <div>Loading... Make sure you're inside a library!</div>}\n        {this.state.book && (<div>\n          <div>\n            {/* <Button color=\"primary\" href={`/libraries/${this.state.library}`}>Go Back to {this.state.library}</Button> */}\n            {/* <h1>{this.state.library}</h1> */}\n            <h2>List of Books</h2>\n            <p>\n              <input type=\"text\" value={this.state.search} onChange={this.changeSearch}\n              /><br />\n              Filter by book title\n            </p>\n            <Button href={`/${this.state.library}/add-book`} color=\"primary\">Add book</Button>\n            <br /><br />\n            {/* <h3>{this.state.boo}</h3> */}\n            <ul>\n              {this.state.book\n                .filter(bookDetail =>\n                  bookDetail.title\n                    .toUpperCase()\n                    .includes(this.state.search.toUpperCase()) \n                )\n                .map(bookDetail => (\n                  <li key={bookDetail._id}>\n                  <div className=\"CardMain\">\n                    <Card>\n                    <Container>\n                    <Row>\n                    <Col xs=\"3\">\n                      <CardImg top width=\"20%\" src={bookDetail.picture} alt={`\"${bookDetail.title}-cover\"`} />\n                        {/* <img src={bookDetail.picture} alt={`\"${bookDetail.title}-cover\"`}/> */}\n                        </Col>\n                    <Col xs=\"9\">\n                      <CardBody>\n                        <CardTitle>Title: {bookDetail.title}</CardTitle>\n                        <CardTitle>Author: {bookDetail.author}</CardTitle>\n                        <CardSubtitle>Genre: {bookDetail.genre}</CardSubtitle>\n                        <CardText>Description: {bookDetail.description}</CardText>\n                        \n                        {this.state.role === \"admin\" && <Button color=\"danger\" onClick={e => this.deleteBook(e,bookDetail)}>Delete Book</Button>}\n                        {bookDetail._currentOwner && bookDetail._currentOwner !== \"000000000000000000000000\" && \n                        <div><br /><Alert color=\"warning\" >This book is not available at the moment - It has been borrowed.</Alert></div> }\n                      \n                      </CardBody>\n                     </Col>\n                      </Row>\n                      </Container>\n                    </Card>\n                  </div>\n                  <br />\n                  </li>\n                ))}\n            </ul>\n          </div> \n          </div>)}\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    Promise.all([\n    api.getLibrary(this.props.match.params.libraryId),\n    api.getMember(this.props.match.params.libraryId)\n  ]).then(([response,member]) => {\n        console.log(\"response------->\", response);\n        this.setState({\n          library: response.library,\n          book: response.book,\n          role: member[0].role\n        });\n        console.log(\"ARE YOU AN ADMIN?? ROLE:\", this.state.role)\n        console.log('currentOwner-------->',this.state.book[0]._currentOwner)\n\n      })\n      .catch(err => console.log(err));\n  }\n}","import React, { Component } from 'react'\nimport axios from 'axios'\n\n\nexport default class AutocompletePlace extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      search: '',\n      results: [],\n      isLoading: false,\n    }\n    this.handleSearchChange = this.handleSearchChange.bind(this)\n\n    if (!process.env.REACT_APP_MAPBOX_API_KEY) {\n      throw new Error(\"You don't have any 'process.env.REACT_APP_MAPBOX_API_KEY'\")\n    }\n  }\n  handleSearchChange(e) {\n    this.setState({\n      search: e.target.value,\n      isLoading: true\n    })\n\n    // Stop the previous setTimeout if there is one in progress\n    clearTimeout(this.timeoutId)\n\n    // Launch a new request in 1000ms\n    this.timeoutId = setTimeout(() => {\n      this.performSearch()\n    }, 1000)\n  }\n  performSearch() {\n    if (this.state.search === \"\") {\n      this.setState({\n        results: [],\n        isLoading: false\n      })\n      return\n    }\n    axios.get(`https://api.mapbox.com/geocoding/v5/mapbox.places/${this.state.search}.json?access_token=${process.env.REACT_APP_MAPBOX_API_KEY}`)\n      .then(response => {\n        this.setState({\n          results: response.data.features,\n          isLoading: false\n        })\n      })\n  }\n  handleItemClicked(place) {\n    this.setState({\n      search: place.place_name,\n      results: []\n    })\n    this.props.onSelect(place)\n  }\n  render() {\n    return (\n      <div className=\"AutocompletePlace\">\n        <input className=\"AutocompletePlace-input\" type=\"text\" value={this.state.search} onChange={this.handleSearchChange} placeholder=\"Type an address\" />\n        <ul className=\"AutocompletePlace-results\">\n          {this.state.results.map(place => (\n            <li\n              key={place.id}\n              className=\"AutocompletePlace-items\"\n              onClick={() => this.handleItemClicked(place)}\n            >\n              {place.place_name}\n            </li>\n          ))}\n          {this.state.isLoading && <li className=\"AutocompletePlace-items\">Loading...</li>}\n        </ul>\n      </div>\n    )\n  }\n}\n","import React, { Component } from \"react\";\nimport { Button, Input } from \"reactstrap\";\nimport api from \"../../api\";\nimport AutocompletePlace from \"../AutocompletePlace\"\n\nexport default class AddLibrary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      picture: null,\n      address: \"\",\n      description: \"\",\n      message: null\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleFileChange = this.handleFileChange.bind(this);\n    this.handleSelect = this.handleSelect.bind(this)\n\n    //this.addLibraryAndRedirectToProfile = this.addLibraryAndRedirectToProfile.bind(this);\n  }\n  handleSelect(place) {\n    this.setState({ place })\n  }\n  handleInputChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleFileChange(event) {\n    //  event.preventDefault();\n    console.log(\"The file added by the user is: \", event.target.files[0]);\n    this.setState({\n      picture: event.target.files[0]\n    });\n  }\n\n    addLibraryAndRedirectToProfile(e){\n      // To send information with \"form-data\" (like in Postman)\n      const uploadData = new FormData()\n      uploadData.append(\"name\", this.state.name)\n      uploadData.append(\"picture\", this.state.picture)\n      uploadData.append(\"address\", this.state.place.place_name)\n      uploadData.append(\"coordinates_lng\", this.state.place.center[0])\n      uploadData.append(\"coordinates_lat\", this.state.place.center[1])\n      uploadData.append(\"description\", this.state.description)\n  \n      api.createLibrary(uploadData)\n      .then(createdLibrary => {\n        console.log(\"SUCCESS!\", createdLibrary);\n        this.setState({\n          message: `Your library '${this.state.name}' has been created`\n        });\n        this.props.history.push('/profile')\n        setTimeout(() => {\n          this.setState({\n            message: null\n          });\n        }, 2000);\n      })\n      .catch(err => this.setState({ message: err.toString() }));\n    }\n\n  render() {\n    return (\n      <div className=\"AddLibrary\">\n        <h2>Add Library</h2>\n        <form>\n          Name:{\" \"}\n          <Input\n            type=\"text\"\n            value={this.state.name}\n            name=\"name\"\n            onChange={this.handleInputChange}\n          />{\" \"}\n          <br />\n          Picture:{\" \"}\n          <Input\n            type=\"file\"\n            // value={this.state.picture}\n            name=\"picture\"\n            onChange={this.handleFileChange}\n          />{\" \"}\n          <br />\n          Address:{\" \"}\n          <AutocompletePlace onSelect={this.handleSelect} />\n\n          <br />\n          Description:{\" \"}\n          <Input\n            type=\"textarea\"\n            value={this.state.description}\n            name=\"description\"\n            cols=\"20\"\n            rows=\"5\"\n            onChange={this.handleInputChange}\n          />{\" \"}\n          <br />\n          <Button color=\"primary\" onClick={e => this.addLibraryAndRedirectToProfile(e)}>\n            Create Library\n          </Button>\n        </form>\n        {this.state.message && <div className=\"info\">{this.state.message}</div>}\n        \n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Button, Input , Modal, ModalHeader, ModalBody, Form } from 'reactstrap';\nimport api from '../../api';\nimport axios from 'axios';\n\n\nexport default class AddBook extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      title: \"\",\n      author: \"\",\n      genre: \"\",\n      picture:null,\n      pictureUrl:null,\n      description: \"\",\n      rating: \"\",\n      pages: \"\",\n      isbn: \"\",\n      language:\"\",\n      message: null,\n      isbn_message:null,\n      modal: false,\n      _library: this.props.match.params.libraryId\n    }\n    this.handleInputChange = this.handleInputChange.bind(this)\n    this.handleFileChange = this.handleFileChange.bind(this)\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n  }\n\n\n  handleInputChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  handleFileChange(e) {\n    console.log(\"The file added by the user is: \", e.target.files[0])\n    this.setState({\n      picture: e.target.files[0]\n    })\n  }\n\n  getInfoFromApi(e){\n    axios.get(`https://www.googleapis.com/books/v1/volumes?q=isbn:${this.state.isbn}`)\n    .then(response => {\n       console.log(\"response.imageLinks[0]--->\" , response.data.items[0].volumeInfo.imageLinks.thumbnail)\n       \n\n         this.setState({\n        title: response.data.items[0].volumeInfo.title,\n        author: response.data.items[0].volumeInfo.authors[0],\n        genre: response.data.items[0].volumeInfo.categories\n          ? response.data.items[0].volumeInfo.categories[0]\n          : \"Provide a genre\",\n        picture: response.data.items[0].volumeInfo.imageLinks.thumbnail,\n        description: response.data.items[0].volumeInfo.description,\n        rating: response.data.items[0].volumeInfo.averageRating,\n        pages: response.data.items[0].volumeInfo.pageCount,\n        language: response.data.items[0].volumeInfo.language,\n        isbn:response.data.items[0].volumeInfo.industryIdentifiers[1].identifier,\n        isbn_message:`Your book's name is ${response.data.items[0].volumeInfo.title}. If this information is wrong, fill below the form with the correct information`,\n        _library: `ObjectId(${this.props.match.params.libraryId})`})\n\n        console.log(\"this.state.picture--->\" , this.state.picture)\n       console.log(\"this.state.title--->\" , this.state.title)\n      }\n    ).catch(err => this.setState({ isbn_message: 'We do not have this book in our database. Please fill the form' }))\n    // ).catch(err => this.setState({ message: err.toString() }))\n  }\n\n  addBookAndRedirectToLibraryPage(e){\n    // console.log(\"this.props.match.params.libraryId\",this.props.match.params.libraryId)\n    console.log(\"this.state.picture--->\" , this.state.picture)\n    const uploadData = new FormData()\n    uploadData.append(\"title\", this.state.title)\n    uploadData.append(\"author\", this.state.author)\n    uploadData.append(\"picture\", this.state.picture)\n    uploadData.append(\"genre\", this.state.genre)\n    uploadData.append(\"description\", this.state.description)\n    uploadData.append(\"rating\", this.state.rating)\n    uploadData.append(\"pages\", this.state.pages)\n    uploadData.append(\"language\", this.state.language)\n    uploadData.append(\"isbn\", this.state.isbn)\n    uploadData.append(\"_library\", this.props.match.params.libraryId)\n    console.log(\"uploadData------->\",uploadData)\n    \n    api.addBookWithForm(uploadData)\n      .then(result => {\n        console.log('result--------->',result)\n        this.setState({\n          message: `Your book '${this.state.title}' has been created`\n        });\n        \n        setTimeout(() => {\n          this.setState({\n            message: null\n          })\n        }, 2000)\n      })\n      .catch(err => this.setState({ message: err.toString() }))\n\n  }\n\n\n\n  render() {\n    return (\n      <div className=\"AddBook\">\n      {!this.state._library && <div>Loading... This is probably not a valid Library!  </div>}\n        {this.state._library && (<div className=\"AddBook\">\n        <h2>Add Book</h2>\n        <h3>Use ISBN to help us find the information about your book</h3>\n        {/* <p className=\"small\" color=\"primary\">What is ISBN?</p> */}\n        {/* <img src=\"../../../images/isbn-location.png\" alt=\"isbn-location\"></img> */}\n        {/* {this.props.buttonLabel} */}\n        \n      <Form>\n          ISBN: <Input type=\"number\" value={this.state.isbn} name=\"isbn\" onChange={this.handleInputChange} /> <br />\n          <Button color=\"primary\" onClick={(e) => this.getInfoFromApi(e)}>Check your book's info</Button> <br />\n        </Form>\n        {this.state.isbn_message && <div className=\"info\">\n          {this.state.isbn_message}\n        </div>}\n        <br />\n        <div>\n        <Button color=\"primary\" onClick={this.toggle}>What is ISBN?</Button>\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className}>\n          <ModalHeader toggle={this.toggle}>What is ISBN?</ModalHeader>\n          <ModalBody className=\"modal-body\">\n          <img src=\"../../../images/isbn-location.png\" alt=\"isbn-location\"></img><br />\n          An ISBN gets placed on the copyright page inside the book and, if there is no bar code, on the back cover.<br />\n          It can have 10 or 13 digits.\n          </ModalBody>\n          {/* <ModalFooter>\n            <Button color=\"primary\" onClick={this.toggle}>Do Something</Button>{' '}\n            <Button color=\"secondary\" onClick={this.toggle}>Cancel</Button>\n          </ModalFooter> */}\n        </Modal>\n      </div>\n      <br />\n      <h3>Or fill the form manually. Don't worry, it's quite short!</h3>\n        <Form>\n          Title: <Input type=\"text\" value={this.state.title} name=\"title\" onChange={this.handleInputChange} /> <br />\n          Author: <Input type=\"text\" value={this.state.author} name=\"author\" onChange={this.handleInputChange} /> <br />\n          Genre: <Input type=\"text\" value={this.state.genre} name=\"genre\" onChange={this.handleInputChange} /> <br />\n          Picture: \n          <img src={this.state.picture} alt=\"\" /><br />\n          <Input type=\"file\" name=\"picture\" onChange={this.handleInputChange} /> <br />\n          Rating: <Input type=\"number\" value={this.state.rating} name=\"rating\" onChange={this.handleInputChange} /> <br />\n          Pages: <Input type=\"number\" value={this.state.pages} name=\"pages\" onChange={this.handleInputChange} /> <br />\n          Language: <Input type=\"text\" value={this.state.language} name=\"language\" onChange={this.handleInputChange} /> <br />\n          ISBN: <Input type=\"number\" value={this.state.isbn} name=\"isbn\" onChange={this.handleInputChange} /> <br />\n          Description: <Input type=\"textarea\" value={this.state.description} name=\"description\" cols=\"20\" rows=\"5\" onChange={this.handleInputChange} /> <br />\n          <Button color=\"primary\" onClick={(e) => this.addBookAndRedirectToLibraryPage(e)}>Create Book</Button>\n        </Form>\n        {this.state.message && <div className=\"info\">\n          {this.state.message}\n        </div>}\n        <Button color=\"primary\" href={`/libraries/${this.props.match.params.libraryId}`}>Go Back</Button>\n  \n      </div>)}\n      </div>\n    );\n  }\n}","import React, { Component } from \"react\";\nimport api from \"../../api\";\nimport {\n  Card,\n  CardImg,\n  CardText,\n  CardBody,\n  CardTitle,\n  CardSubtitle,\n  Button,\n  Row,\n  Col\n} from \"reactstrap\";\n\nexport default class BookDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      response: {\n        user: null,\n        book: null\n      }\n    };\n\n    this.calculateDueDate = this.calculateDueDate.bind(this);\n    this.untilDueDate = this.untilDueDate.bind(this);\n  }\n\n  borrowBook(event) {\n    event.preventDefault();\n    console.log(\"THIS IS THE ID LOOOOK\", this.props.match.params.bookId);\n    api\n      .updateBook(this.props.match.params.bookId, {\n        title: this.state.book.title,\n        author: this.state.book.author,\n        genre: this.state.book.genre,\n        picture: this.state.book.picture,\n        description: this.state.book.description,\n        rating: this.state.book.rating,\n        pages: this.state.book.pages,\n        language: this.state.book.language,\n        _currentOwner: this.state.user,\n        borrowedDate: Date.now(),\n        comments: this.state.book.comments,\n        status: \"Unavailable\"\n      })\n      .then(result => {\n        console.log(\"DID IT WORK???\", result);\n        this.setState({\n          book: result.response,\n          message: `You borrowed '${this.state.book.title}'. You have ${this.untilDueDate()} days to give it back`\n        });\n      });\n  }\n\n  calculateDueDate(){\n    if(this.state.book)\n      {\n    let borrowedDate = this.state.book.borrowedDate ;\n    let deadlineDays=30 ;\n      var result = new Date(borrowedDate);\n      result.setDate(result.getDate() + deadlineDays);\n          return result;} else{\n      return 0\n    }\n  }\n\n  untilDueDate(){ //currentDate as parameter?\n    if(this.state.book)\n      {\n     let dueDate = this.calculateDueDate();\n     let currentDate = Date.now();\n     var oneDay = 1000 * 60 * 60 * 24;\n\n     let dueDateMS = dueDate.getTime();\n     let currentDateMS = currentDate;\n\n     let diffMS = Math.abs(currentDateMS-dueDateMS);\n\n     return Math.round(diffMS/oneDay)\n      } else {return 0}\n  }\n\n  render() {\n    return (\n      <div>\n        {!this.state.book && <div>Loading...</div>}\n        {this.state.book && (\n          <div className=\"bookCard\">\n            <Card>\n              <Row>\n                <Col>\n                  <CardImg\n                    top\n                    width=\"100%\"\n                    src={this.state.book.picture}\n                    alt=\"Card image cap\"\n                  />\n                </Col>\n                <CardBody>\n                  <CardTitle tag=\"h3\">\n                    <strong>{this.state.book.title}</strong>\n                  </CardTitle>\n                  <CardSubtitle tag=\"h4\">{this.state.book.author}</CardSubtitle>\n                  <CardText>\n                    {this.state.book.description}\n                    <br />\n                    <strong>Rating: </strong>\n                    {this.state.book.rating}\n                    <br />\n                    <strong>Pages: </strong>\n                    {this.state.book.pages}\n                    <br />\n                    <strong>ISBN: </strong>\n                    {this.state.book.isbn}\n                    <br />\n                  </CardText>\n                  {this.state.book.status === \"Available\" && (\n                    <Button\n                      onClick={e => this.borrowBook(e)}\n                      outline\n                      color=\"info\"\n                    >\n                      Borrow\n                    </Button>\n                  )}\n                  <br />\n                  <Button href={`/book-detail/${this.state.book._id}/add-review`} outline color=\"info\">\n                    Add a review\n                  </Button><br />\n                  <Button\n                    href={`/report-problem/${this.state.book._library}`}\n                    outline\n                    color=\"info\"\n                    size=\"sm\"\n                  >\n                    Report a problem\n                  </Button>\n                  <br />\n                  <Button color=\"primary\" href={`/profile`}>\n                    Go Back\n                  </Button><br />\n                  {this.state.message && (\n                    <div className=\"info\">{this.state.message}</div>\n                  )}\n                </CardBody>\n              </Row>\n            </Card>\n            <Card className=\"reviewContainer\">\n              <CardBody>\n              <CardTitle tag=\"h4\">Reviews</CardTitle>\n                <CardText>\n                    {this.state.book.comments.map(comment => <li key={comment._id}>\n                      <strong>\"{comment.title}\"</strong><br/>\n                      Author: {comment.author}<br/>\n                      Review: {comment.text}<br/>\n                      <strong>Rating:</strong> {comment.rating}<br/></li> )}\n                    {/* DON'T FORGET TO MAP!!!!!!! */}\n                </CardText>\n                </CardBody>\n            </Card>\n          </div>\n        )}\n      </div>\n    );\n  }\n  componentDidMount() {\n    api\n      .getBook(this.props.match.params.bookId)\n      .then(response => {\n        this.setState({\n          user: response.user,\n          book: response.response\n        });\n      })\n      .catch(err => console.log(err));\n  }\n}","import React from \"react\";\nimport {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  Nav,\n  NavItem,\n  NavLink\n} from \"reactstrap\";\nimport api from \"../api\";\nimport { NavLink as Nlink } from \"react-router-dom\";\n\nexport default class Example extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = this.toggle.bind(this);\n    this.state = {\n      isOpen: false\n    };\n  }\n  toggle() {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  }\n\n  handleLogoutClick(e) {\n    api.logout();\n  }\n\n  toggleNavbar() {\n    this.setState({\n      collapsed: !this.state.collapsed\n    });\n  }\n  render() {\n    return (\n      <div>\n        <Navbar style={{backgroundColor: '#662D91'}} dark expand=\"md\">\n          {/* <NavbarBrand href=\"/\">Project3</NavbarBrand> */}\n          <NavbarToggler onClick={this.toggle} />\n          <Collapse isOpen={this.state.isOpen} navbar>\n            <Nav className=\"ml-auto\" navbar>\n              <NavItem>\n                <NavLink tag={Nlink} to=\"/\">\n                  Home\n                </NavLink>\n              </NavItem>\n              <NavItem>\n                {api.isLoggedIn() && (\n                  <NavLink tag={Nlink} to=\"/profile\">\n                    Profile\n                  </NavLink>\n                )}\n              </NavItem>\n              <NavItem>\n          {!api.isLoggedIn() && <NavLink tag={Nlink} to=\"/login\">Login</NavLink>}\n\n              </NavItem>\n              <NavItem>\n                {!api.isLoggedIn() && (\n                  <NavLink tag={Nlink} to=\"/signup\">\n                    Signup\n                  </NavLink>\n                )}\n              </NavItem>\n              <NavItem>\n                {api.isLoggedIn() && (\n                  <NavLink\n                    tag={Nlink}\n                    to=\"/\"\n                    onClick={e => this.handleLogoutClick(e)}\n                  >\n                    Logout\n                  </NavLink>\n                )}\n              </NavItem>\n            </Nav>\n          </Collapse>\n        </Navbar>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\n\nexport default class Footer extends React.Component {\n\n  render() {\n    return (\n      <div className=\"Footer\">\n     Made with  by SmartShelf at Ironhack\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Button, Form } from 'reactstrap'\nimport api from '../../api';\n\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      email: \"\",\n      password: \"\",\n      message: null\n    }\n    this.handleInputChange = this.handleInputChange.bind(this)\n  }\n  \n  handleInputChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    })\n  }\n\n  handleClick(e) {\n    e.preventDefault()\n    api.login(this.state.email, this.state.password)\n      .then(result => {\n        console.log('SUCCESS!')\n        this.props.history.push(\"/profile\") // Redirect to the home page\n      })\n      .catch(err => this.setState({ message: err.toString() }))\n  }\n\n  render() {\n    return (\n      <div className=\"Login\">\n      <div className=\"container\">\n        <h2>Login</h2>\n        <Form>\n          E-mail<br />\n          <input type=\"text\" value={this.state.email} name=\"email\" onChange={this.handleInputChange} /> <br /><br />\n          Password<br />\n          <input type=\"password\" value={this.state.password} name=\"password\" onChange={this.handleInputChange} />\n          <br /><br />\n          <Button tag=\"a\" outline color=\"info\" onClick={(e) => this.handleClick(e)}>Login</Button>\n        </Form>\n        <p>Don't have an account yet? <a href=\"/signup\">Sign up</a></p>\n        {this.state.message && <div className=\"info info-danger\">\n          {this.state.message}\n        </div>}\n      </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Button } from 'reactstrap'\nimport api from '../../api';\n\nexport default class Signup extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      email: \"\",\n      username: \"\",\n      password: \"\",\n      message: null\n    }\n    this.handleInputChange = this.handleInputChange.bind(this)\n  }\n\n  handleInputChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    })\n  }\n\n  handleClick(e) {\n    e.preventDefault()\n    let data = {\n      email: this.state.email,\n      username: this.state.username,\n      password: this.state.password,\n    }\n    api.signup(data)\n      .then(result => {\n        console.log('SUCCESS!')\n        this.props.history.push(\"/profile\") // Redirect to the profile\n      })\n      .catch(err => this.setState({ message: err.toString() }))\n  }\n\n  render() {\n    return (\n      <div className=\"Signup\">\n        <h2>Sign up</h2>\n        <form>\n          Email <br />\n          <input type=\"text\" value={this.state.email} name=\"email\" onChange={this.handleInputChange} /> <br /><br />\n          Username <br />\n          <input type=\"text\" value={this.state.username} name=\"username\" onChange={this.handleInputChange} /> <br /><br />\n          Password <br />\n          <input type=\"password\" value={this.state.password} name=\"password\" onChange={this.handleInputChange} /> <br /><br />\n          <Button tag=\"a\" outline color=\"info\" onClick={(e) => this.handleClick(e)}>Sign up</Button>\n        </form>\n        <p>Already have an account? <a href=\"/login\">Login</a></p>\n        {this.state.message && <div className=\"info info-danger\">\n          {this.state.message}\n        </div>}\n      </div>\n    );\n  }\n}","import React, { Component } from 'react'\nimport {\n  Button,\n  Col,\n  Input,\n  Label,\n  Row\n} from 'reactstrap'\nimport mapboxgl from \"mapbox-gl/dist/mapbox-gl\"; // NEW\nimport api from \"../../api\";\nimport 'mapbox-gl/dist/mapbox-gl.css' // Import of Mapbox CSS\n\n\nmapboxgl.accessToken = \"pk.eyJ1IjoiZ3RjYXJtb25hIiwiYSI6ImNqdWwxYzZwOTAzeWE0NGxsbjJ0ZnJ0aDYifQ.GIzsIahO6WNQFMg486tFkA\"\n\n\nexport default class Map extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      lng: \"\",\n      lat: \"\",\n      libraries: null\n    }\n    this.getCurrentCoordinates = this.getCurrentCoordinates.bind(this)\n    this.initMap = this.initMap.bind(this)\n    this.mapRef = React.createRef();\n    this.map = null; \n    this.marker = null;\n  }\n    initMap(lng, lat) {\n    this.map = new mapboxgl.Map({\n      container: this.mapRef.current,\n      style: \"mapbox://styles/mapbox/streets-v11\",\n      center: [lng, lat],\n      zoom: 12\n    });\n\n    this.map.addControl(new mapboxgl.NavigationControl());\n    this.marker = new mapboxgl.Marker({ color: \"purple\" })\n      .setLngLat([lng, lat])\n      .addTo(this.map)\n      for(let i = 0; i < this.state.libraries.length; i++){\n        let popup = new mapboxgl.Popup()\n        .setHTML(\n          `<a href=\"http://localhost:3000/libraries/${this.state.libraries[i]._id}\"<b>${this.state.libraries[i].name}</b> <br>\n          </a>\n        `)\n\n          let lng = this.state.libraries[i].coordinates[0]\n          let lat = this.state.libraries[i].coordinates[1]\n          // console.log(\"ARE THEY NUMBERS????\", lat, lng)\n            new mapboxgl.Marker({ color: 'yellow' })\n            .setLngLat([lng, lat])\n            .setPopup(popup)\n            .addTo(this.map)\n\n          }\n        }\n  getCurrentCoordinates() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        console.log(\"The current coords are\", position.coords)\n        this.setState({\n          lng: position.coords.longitude,\n          lat: position.coords.latitude,\n        })\n      })\n    }\n  }\n  handleInputChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n  render() {\n    return (\n      <div className=\"LibraryLocations\">\n        <h1>Find libraries around you!</h1>\n        <Button className=\"btn btn-info\" onClick={this.getCurrentCoordinates}>\n          Get Current Coordinates\n        </Button>\n        \n        <Row className=\"my-4\">\n          <Col sm={3}>\n            <Label for=\"exampleEmail\">Coordinates</Label>\n          </Col>\n          <Col>\n            <Input type=\"number\" value={this.state.lng} onChange={this.handleInputChange} name=\"lng\" placeholder=\"Longitude\" />\n          </Col>\n          <Col>\n            <Input type=\"number\" value={this.state.lat} onChange={this.handleInputChange} name=\"lat\" placeholder=\"Latitude\" />\n          </Col>\n        </Row>\n        <Button className=\"btn btn-info\"onClick={() => this.initMap(this.state.lng,this.state.lat)}>\n          Find libraries!\n        </Button>\n        <div className=\"mapbox\"ref={this.mapRef} style={{ height: 400 }} />\n\n      </div>\n      \n    )\n  }\n  componentDidMount() {\n    // this.initMap()\n      api.getLibraries()\n        .then(libraries => {\n          console.log(\"TCL: Map -> componentDidMount -> libraries.response\", libraries.response)\n      this.setState({\n        libraries: libraries.response\n      })\n    });\n  }\n\n}\n","import React from \"react\";\nimport {\n  Button,\n  Input,\n  Label,\n  FormFeedback,\n  CustomInput,\n  Form,\n  FormGroup\n} from \"reactstrap\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faUserEdit } from '@fortawesome/free-solid-svg-icons'\nimport api from \"../api\";\n\nexport default class EditProfile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      phoneNumber: \"\",\n      favoriteBooks: \"\",\n      favoriteQuote: \"\",\n      showEditForm: true,\n\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    this.handleFileChange = this.handleFileChange.bind(this)\n  }\n  handleInputChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n  handleFileChange(event) {\n    console.log(\"The file added by the user is: \", event.target.files[0])\n    this.setState({\n      picture: event.target.files[0]\n    })\n  }\n\n  handleFormSubmit(e){\n    const uploadData = new FormData() \n    uploadData.append(\"username\", this.state.username)\n    uploadData.append(\"picture\", this.state.picture)\n    uploadData.append(\"phoneNumber\", this.state.phoneNumber)\n    uploadData.append(\"favoriteBooks\", this.state.favoriteBooks)\n    uploadData.append(\"favoriteQuote\", this.state.favoriteQuote)\n\n    api.editProfile(uploadData)\n      .then(result => {\n        console.log(\"DID IT WORK???\", result);\n        this.props.updateProfile()\n        this.setState({\n          message: `Your profile was updated!`,\n          showEditForm: !this.state.showEditForm,\n        });\n        setTimeout(() => {\n          this.setState({\n            message: null\n          });\n        }, 2000);\n      })\n      .catch(err => this.setState({ message: err.toString() }));\n}\n  showEditForm() {\n    this.setState({\n      showEditForm: !this.state.showEditForm\n    })\n   \n    }\n  render() {\n    return (\n      <div className=\"editForm\">\n        {this.state.showEditForm ? (\n          <div className=\"edit-button\" style={{flexDirection:'row'}}>\n          <FontAwesomeIcon icon={faUserEdit} size=\"1x\" className=\"icon\" onClick={e => this.showEditForm(e)}>edit</FontAwesomeIcon>\n          </div>\n        ) : ( //ternary\n          <Form className=\"form-container\">\n            <FormGroup>\n          {/* Conditional rendering to prevent not inputting any username */}\n            <Label for=\"username\">Username:{\" \"}</Label>\n            {!this.state.username ? <div><Input invalid type=\"text\" value={this.state.username} name=\"username\" onChange={this.handleInputChange}\n            />{\" \"}\n            <FormFeedback>Oh noes! You have to write your username</FormFeedback></div> :\n            <div><Input valid type=\"text\" value={this.state.username} name=\"username\" onChange={this.handleInputChange}\n            />{\" \"}</div>}\n            <Label for=\"picture\">Picture:{\" \"}</Label>\n            <CustomInput type=\"file\" id=\"exampleCustomFileBrowser\" name=\"picture\" label=\"Bring that smile on!\" onChange={this.handleFileChange}/>\n            {\" \"}<br />\n            <Label for=\"phoneNumber\">Phone:{\" \"}</Label>\n            <Input type=\"text\" value={this.state.phoneNumber} name=\"phoneNumber\" cols=\"20\" rows=\"5\" onChange={this.handleInputChange}\n            />{\" \"}<br />\n            </FormGroup>\n            <FormGroup>\n            <Label for=\"favoriteBooks\">Favorite Books:{\" \"}</Label>\n            <Input type=\"text\" value={this.state.favoriteBooks} name=\"favoriteBooks\" cols=\"20\" rows=\"5\" onChange={this.handleInputChange}\n            />{\" \"}<br />\n            <Label for=\"favoriteQuote\">Favorite Quote:{\" \"}</Label>\n            <Input type=\"text\" value={this.state.favoriteQuote} name=\"favoriteQuote\" cols=\"20\" rows=\"5\" onChange={this.handleInputChange}\n            />{\" \"}<br />\n            </FormGroup>\n        {/* Show disabled button if there is no username  -> Ternary*/}\n            {!this.state.username ? <Button disabled  className=\"confirm-profile-button\" onClick={() => this.handleFormSubmit()}>\n              Confirm\n            </Button> :\n            <Button className=\"confirm-profile-button\" onClick={() => this.handleFormSubmit()}>\n              Confirm\n            </Button>}\n        </Form>)}\n      </div>\n    );\n  }\n}","import React, { Component } from \"react\";\nimport {\n  Button,\n  ButtonGroup,\n  Card,\n  CardBody,\n  CardDeck,\n  CardText,\n  CardTitle, \n  Container, \n  Row, \n  Col\n} from \"reactstrap\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSearchLocation,faPlus } from '@fortawesome/free-solid-svg-icons'\nimport { Link } from \"react-router-dom\";\nimport api from \"../../api\";\nimport EditProfile from \"../EditProfile\";\n\nexport default class Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      profileInfo: null\n    };\n\n    this.calculateDueDate = this.calculateDueDate.bind(this);\n    this.untilDueDate = this.untilDueDate.bind(this);\n  }\n\n  updateProfile = () => {\n    api\n      .showProfile()\n      .then(response => {\n        this.setState({\n          profileInfo: response\n        });\n        console.log(this.state);\n      })\n      .catch(err => console.log(err));\n  };\n\n  returnBook(e, book) {\n    e.preventDefault();\n    api.getBook(book._id)\n    .then(response => {\n      api\n      .updateBook(book._id, {\n        status: \"Available\",\n        _currentOwner: \"0\".repeat(24),\n        comments: response.response.comments\n      })\n      .then(result => {\n        this.setState({\n          message: `You returned the book`\n        });\n        this.updateProfile()\n      });\n    })\n  }\n\n  calculateDueDate(borrowedDate){\n    if(this.state.profileInfo.books) {\n      // let borrowedDate = this.state.profileInfo.books.borrowedDate ;\n      let deadlineDays=30 ;\n      var result = new Date(borrowedDate);\n      result.setDate(result.getDate() + deadlineDays);\n      return result;\n    } \n    else{\n      return 0\n    }\n  }\n\n  untilDueDate(borrowedDate){ //currentDate as parameter?\n    if(this.state.profileInfo.books)\n      {\n     let dueDate = this.calculateDueDate(borrowedDate);\n     let currentDate = Date.now();\n     var oneDay = 1000 * 60 * 60 * 24;\n\n     let dueDateMS = dueDate.getTime();\n     let currentDateMS = currentDate;\n\n     let diffMS = dueDateMS-currentDateMS;\n\n     return Math.round(diffMS/oneDay)\n      } else {return 30}\n  }\n\n  render() {\n    return (\n      <div className=\"profilePage\">\n        {!this.state.profileInfo && <div>Loading...</div>}\n        {this.state.profileInfo && (\n          <div>\n          <span className=\"userPic\">\n            <img src={this.state.profileInfo.user.picture} alt=\"\" />\n            <br />\n          </span>\n        <CardDeck>\n          <Card>\n            <CardBody>\n              <CardText className=\"userContainer\">\n                <span>\n                  <span className=\"userName\">\n                    {this.state.profileInfo.user.username[0].toUpperCase() +\n                      this.state.profileInfo.user.username.substr(1)}\n                  </span>\n                  <br />\n                  {this.state.profileInfo.user.favoriteQuote && (\n                    <em>\"{this.state.profileInfo.user.favoriteQuote}\"</em>\n                  )}<br/><br />\n                  {this.state.profileInfo.user.favoriteBooks && (\n                    <span><strong>Favorite book</strong><br/>{this.state.profileInfo.user.favoriteBooks}</span>\n                  )}\n                </span>\n              </CardText>\n            </CardBody>\n            <EditProfile updateProfile={this.updateProfile} />\n          </Card>\n          <Card>\n            <CardBody>\n              <CardTitle tag=\"h3\" className=\"libraryName\">My Libraries</CardTitle>\n              <div className=\"infoContainer\">\n                {this.state.profileInfo.members.length < 1 && (\n                  <span>\n                    You are not part of any libraries yet!\n                    <br /> Create one or find libraries near you\n                  </span>\n                )}\n                {this.state.profileInfo.members.length > 0 &&\n                  this.state.profileInfo.members.map(library => (\n                    <li key={library._library._id}>\n                    <Link to={`/libraries/${library._library._id}`}>\n                      \n                    <div className=\"library-cover\"\n                      style={{background: `url(\"${library._library.picture}\") no-repeat center`,backgroundSize:'cover'}}>\n                      <div className=\"container-opacity\" style={{backgroundColor: 'black',backgroundSize:'100%',opacity:'0.5',zIndex: '2'}}>\n                      {/* <img src={library._library.picture} alt=\"\" style={{opacity: '0.7'}} /> */}\n                      <div style={{color:'white'}}>\n                        {library._library.name}\n                        </div>\n                      </div>\n                      </div></Link>\n                      \n                    </li>\n                  ))}\n              </div>\n              {this.state.profileInfo.members.length > 2 && (\n                <Button\n                  onClick={this.showMore}\n                  outline\n                  color=\"info\"\n                  size=\"sm\"\n                >\n                  {this.state.expanded ? (\n                    <span>Show less</span>\n                  ) : (\n                    <span>Show more</span>\n                  )}\n                </Button>\n              )}\n\n              <Container>\n              <Row style={{flexDirection:'row'}}>\n                <Col >\n                  <Button className=\"add-library-button btn\" href=\"/add-library\">\n                  <FontAwesomeIcon icon={faPlus} size=\"1x\" className=\"icon\"/> Add library\n                  </Button>\n                  </Col>\n                  <Col >\n                  <Button  className=\"find-libraries-button btn\" href=\"/find-libraries\"  >\n                  <FontAwesomeIcon icon={faSearchLocation} size=\"1x\" className=\"icon\"/> Find libraries\n                  </Button>\n                </Col>\n              </Row>\n              </Container>\n            </CardBody>\n          </Card>\n          \n          <Card>\n            <CardBody>\n              <CardTitle tag=\"h3\" className=\"bookName\">Books I borrowed</CardTitle>\n              <CardText className=\"infoContainer\">\n                {this.state.profileInfo.books.length < 1 && (\n                  <span>\n                    You haven't borrowed books yet!\n                    <br /> Check your libraries to start reading\n                  </span>\n                )}\n                {this.state.profileInfo.books.length > 0 &&\n                  this.state.profileInfo.books.map(book => (\n                    <li key={book._id}>\n                    <Container><Row>\n                    <Col xs=\"3\">\n                      <img src={book.picture} alt=\"\" />\n                      </Col>\n                      <Col xs=\"9\">\n                      <span>\n                        <strong>Title: </strong>\n                        {book.title}\n                        <br />\n                        <strong>Author: </strong>\n                        {book.author}\n                        <br />\n\n            {  !(Number(this.untilDueDate(book.borrowedDate)) < 1) ? \n                <div><strong>Days Left: </strong> {this.untilDueDate(book.borrowedDate)}</div> :\n                            <div className=\"alert alert-danger small\">\n                  You reached you deadline! Return the book. <strong>You're{' '}  \n                  {Math.abs(Number(this.untilDueDate(book.borrowedDate)))} \n                  {' '} days overdue</strong></div>}\n                          </span>\n                          </Col>\n                        </Row></Container>\n                        <Button\n                          onClick={e => this.returnBook(e, book)}\n                          key={book._id}\n                          outline\n                          className=\"return-book-button\"\n                        >\n                          Return Book to library\n                        </Button>\n                      \n                    </li>\n                  ))}\n              </CardText>\n              {this.state.profileInfo.members.length > 2 && (\n                <Button\n                  onClick={this.showMore}\n                  outline\n                  color=\"info\"\n                  size=\"sm\"\n                >\n                  {this.state.expanded ? (\n                    <span>Show less</span>\n                  ) : (\n                    <span>Show more</span>\n                  )}\n                </Button>\n              )}\n            </CardBody>\n          </Card>\n        </CardDeck>\n            <ButtonGroup vertical>\n              <Button href=\"/\" outline color=\"warning\">\n                Home\n              </Button>\n              <Button href=\"/logout\" outline color=\"warning\">\n                Logout\n              </Button>\n            </ButtonGroup>\n            <br />\n\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    api\n      .showProfile()\n      .then(response => {\n        this.setState({\n          profileInfo: response\n        });\n      })\n      .catch(err => console.log(err));\n  }\n}","import React, { Component } from \"react\";\nimport { Button, Input } from \"reactstrap\";\nimport api from \"../../api\";\n\nexport default class ReportProblem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      subject: \"\",\n      message: \"\",\n      feedback: \"\"\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  handleInputChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    let data = {\n      name: this.state.name,\n      subject: this.state.subject,\n      message: this.state.message\n    };\n\n    if (data.name === \"\" || data.subject === \"\" || data.message === \"\") {\n      this.setState({\n        feedback: `Ops! You need to fill all the fields to send`\n      });\n      setTimeout(() => {\n        this.setState({\n          feedback: null\n        });\n      }, 5000);\n    } else {\n      api\n      .sendEmail(this.props.match.params.libraryId, data)\n      .then(response => {\n        console.log(\"THIS IS THE RESPONSEEEE\", response);\n        this.setState({\n          feedback: `Your email was sent! You'll be redirected`\n        });\n        setTimeout(() => {\n          this.setState({\n            feedback: null\n          });\n        this.props.history.push('/profile')\n        }, 2000);\n      })\n      .catch(err => this.setState({ message: err.toString() }));\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"AddBook\">\n        <h2>Report a problem with this book</h2>\n        <form>\n          Name:{\" \"}\n          <Input\n            type=\"text\"\n            name=\"name\"\n            value={this.state.name}\n            onChange={this.handleInputChange}\n          />{\" \"}\n          <br />\n          Subject:{\" \"}\n          <Input\n            type=\"text\"\n            name=\"subject\"\n            value={this.state.subject}\n            onChange={this.handleInputChange}\n          />{\" \"}\n          <br />\n          Message:{\" \"}\n          <Input\n            type=\"textarea\"\n            name=\"message\"\n            cols=\"20\"\n            rows=\"5\"\n            value={this.state.message}\n            onChange={this.handleInputChange}\n          />{\" \"}\n          <br />\n          <Button color=\"primary\" onClick={e => this.handleSubmit(e)}>\n            Send\n          </Button>\n        </form>\n        {this.state.feedback && (\n          <div className=\"info\">{this.state.feedback}</div>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Button, Input } from \"reactstrap\";\nimport api from \"../../api\";\n\nexport default class SendInvitation extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      email: \"\",\n      feedback: \"\"\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  handleInputChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    let data = {\n      name: this.state.name,\n      email: this.state.email,\n    };\n\n    if (data.name === \"\" || data.email === \"\") {\n      this.setState({\n        feedback: `Ops! You need to fill all the fields to send`\n      });\n      setTimeout(() => {\n        this.setState({\n          feedback: null\n        });\n      }, 5000);\n    } else {\n      api\n      .sendInvitation(this.props.match.params.libraryId, data)\n      .then(response => {\n        console.log(\"THIS IS THE RESPONSEEEE\", response);\n        this.setState({\n          feedback: `Your email was sent! You'll be redirected`\n        });\n        setTimeout(() => {\n          this.setState({\n            feedback: null\n          });\n        this.props.history.push(`/libraries/${this.props.match.params.libraryId}`)\n        }, 2000);\n      })\n      .catch(err => this.setState({ message: err.toString() }));\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"AddBook\">\n        <h2>Invite friends to join this library</h2>\n        <form>\n          What's your friend's name?{\" \"}\n          <Input\n            type=\"text\"\n            name=\"name\"\n            value={this.state.name}\n            onChange={this.handleInputChange}\n          />{\" \"}\n          <br />\n          And your friend's e-mail?{\" \"}\n          <Input\n            type=\"text\"\n            name=\"email\"\n            value={this.state.email}\n            onChange={this.handleInputChange}\n          />{\" \"}\n          <br />\n          <Button color=\"primary\" onClick={e => this.handleSubmit(e)}>\n            Invite\n          </Button>\n        </form>\n        {this.state.feedback && (\n          <div className=\"info\">{this.state.feedback}</div>\n        )}\n      </div>\n    );\n  }\n}","import React, { Component } from \"react\";\nimport { Button, Input } from \"reactstrap\";\nimport api from \"../../api\";\n\nexport default class AddReview extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      review: \"\",\n      rating: \"\",\n      feedback: \"\"\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  handleInputChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    let data = {\n      _user: this.state.user,\n      author: this.state.user.username,\n      title: this.state.title,\n      text: this.state.review,\n      rating: this.state.rating\n    };\n\n    if (data.title === \"\" || data.review === \"\" || data.rating === \"\") {\n      this.setState({\n        feedback: `Ops! You need to fill all the fields to send`\n      });\n      setTimeout(() => {\n        this.setState({\n          feedback: null\n        });\n      }, 5000);\n    } else {\n      api\n        .updateBook(this.props.match.params.bookId, {\n          title: this.state.book.title,\n          author: this.state.book.author,\n          genre: this.state.book.genre,\n          picture: this.state.book.picture,\n          description: this.state.book.description,\n          rating: this.state.book.rating,\n          pages: this.state.book.pages,\n          language: this.state.book.language,\n          _currentOwner: this.state.book._currentOwner,\n          status: this.state.book.status,\n          comments: [...this.state.book.comments, data]\n        })\n        .then(response => {\n          this.setState({\n            feedback: `Your review was added! You'll be redirected`\n          });\n          setTimeout(() => {\n            this.setState({\n              feedback: null\n            });\n            this.props.history.push(\n              `/book-detail/${this.props.match.params.bookId}`\n            );\n          }, 2000);\n        })\n        .catch(err => this.setState({ message: err.toString() }));\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"AddBook\">\n        <h2>Add a review to this book</h2>\n        <form>\n          Review title{\" \"}\n          <Input\n            type=\"text\"\n            name=\"title\"\n            value={this.state.title}\n            onChange={this.handleInputChange}\n          />{\" \"}\n          <br />\n          Write your review here{\" \"}\n          <Input\n            type=\"textarea\"\n            name=\"review\"\n            value={this.state.review}\n            onChange={this.handleInputChange}\n          />{\" \"}\n          <br />\n          Rate this book from 0 to 5{\" \"}\n          <Input\n            type=\"number\"\n            min=\"0\"\n            max=\"5\"\n            maxLength=\"1\"\n            name=\"rating\"\n            value={this.state.rating}\n            onChange={this.handleInputChange}\n          />{\" \"}\n          <br />\n          <Button color=\"primary\" onClick={e => this.handleSubmit(e)}>\n            Submit review\n          </Button>\n        </form>\n        {this.state.feedback && (\n          <div className=\"info\">{this.state.feedback}</div>\n        )}\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    Promise.all([\n      api.getBook(this.props.match.params.bookId),\n      api.showProfile()\n    ])\n      .then(response => {\n        console.log('THIS IS THE RESPONSEEEEE', response)\n        this.setState({\n          user: response[1].user,\n          book: response[0].response\n        });\n        console.log(\"THIS IS THE STATEEE\", this.state);\n      })\n      .catch(err => console.log(err));\n  }\n}\n","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Home from './pages/Home';\nimport LibraryDetail from './pages/LibraryDetail.js';\nimport LibraryBooks from './pages/LibraryBooks.jsx';\nimport AddLibrary from './pages/AddLibrary.jsx';\nimport AddBook from './pages/AddBook.jsx';\nimport BookDetail from './pages/BookDetail';\nimport NavBar from './NavBar';\nimport Footer from './Footer';\nimport Login from './pages/Login';\nimport Signup from './pages/Signup';\nimport Map from './pages/Map.js';\nimport api from '../api';\nimport Profile from './pages/Profile';\nimport ReportProblem from './pages/ReportProblem';\nimport SendInvitation from './pages/SendInvitation';\nimport AddReview from './pages/AddReview';\n\nexport default class App extends Component {\n\n  handleLogoutClick(e) {\n    api.logout()\n  }\n  render() {\n    return (\n      <div className=\"App\">\n      <NavBar className=\"NavBar\"/>\n      <div className=\"main\">\n        <Switch>\n          <Route path=\"/\" exact component={Home} />\n          {api.isLoggedIn() ? <Route path=\"/profile\" component={Profile} /> : <Route path=\"/profile\" component={Login} />}\n         {api.isLoggedIn() ? <Route path=\"/add-library\" component={AddLibrary} /> : <Route path=\"/add-library\" component={Login} />}\n          <Route path=\"/libraries/:libraryId\" component={LibraryDetail} />\n          {api.isLoggedIn() ? <Route path=\"/:libraryId/books\" component={LibraryBooks} /> : <Route path=\"/:libraryId/books\" component={Login} />}\n          {api.isLoggedIn() ? <Route path=\"/:libraryId/add-book\" component={AddBook} /> : <Route path=\"/:libraryId/add-book\" component={Login} />}\n          {api.isLoggedIn() ? <Route path=\"/book-detail/:bookId\" exact component={BookDetail} />: <Route path=\"/book-detail/:bookId\" exact component={Login} />}\n          {api.isLoggedIn() ? <Route path=\"/book-detail/:bookId/add-review\" component={AddReview}/> : <Route path=\"/book-detail/:bookId/add-review\" component={Login} />}\n          <Route path=\"/signup\" component={Signup} />\n          <Route path=\"/login\" component={Login} />\n          <Route path=\"/find-libraries\" component={Map} />\n          {api.isLoggedIn() ? <Route path=\"/report-problem/:libraryId\" component={ReportProblem}/> : <Route path=\"/report-problem/:libraryId\" component={Login} />}\n          {api.isLoggedIn() ? <Route path=\"/send-invitation/:libraryId\" component={SendInvitation}/> : <Route path=\"/send-invitation/:libraryId\" component={Login}/>}\n          \n\n          <Route render={() => <h2>404</h2>} />\n        </Switch>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n  \n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './components/App.jsx';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n// import './assets/css/fonts.css';\n\n// import registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'));\n// registerServiceWorker();\n"],"sourceRoot":""}